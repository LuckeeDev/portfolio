---
import removeTrailingSlash from '@/utils/removeTrailingSlash';
import { Icon } from 'astro-icon/components';
import { getEntry } from 'astro:content';

const { data: presentation } = await getEntry('presentation', 'presentation');

const pathname = removeTrailingSlash(Astro.url.pathname);
---

<header class="z-40 flex w-full flex-col gap-2 md:flex-row md:justify-between">
	<a href={`mailto:${presentation.email}`} class="hover:text-neutral-100"
		>{presentation.email}</a
	>

	<nav role="navigation">
		<ul role="list" class="flex flex-row gap-2">
			<li>
				<a
					href="/"
					class:list={{
						['hover:text-neutral-100']: true,
						['text-neutral-100']: pathname === '/',
					}}>Home</a
				>
			</li>
			<li>/</li>
			<li>
				<a
					href="/posts"
					class:list={{
						['hover:text-neutral-100']: true,
						['text-neutral-100']: pathname === '/posts',
					}}>Posts</a
				>
			</li>
			<li>/</li>
			<li>
				<a
					href="https://cv.lucazoppetti.me"
					target="_blank"
					class="hover:text-neutral-100 flex items-baseline gap-1"
					>CV<Icon name="external" size={11} /></a
				>
			</li>
		</ul>
	</nav>
</header>
